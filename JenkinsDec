pipeline{

    agent any
    
    tools{
        maven "maven3.8.5" 
    }//tools ending tag
    
    options {
        timestamps()
        buildDiscarder logRotator(artifactDaysToKeepStr: '', artifactNumToKeepStr: '', daysToKeepStr: '5', numToKeepStr: '5')
    }//options ending tag
    
    triggers {
        pollSCM '* * * * *'
    }//triggers ending tag
    
    stages{
    
        stage{
        steps('checkout'){
            git branch: 'development', credentialsId: '9fcf7490-03da-413f-8ad9-49d383282524', url: 'https://github.com/vnr1986/maven-web-application.git'
        }//steps ending tag
        }//stage1 ending tag
        
        stage{
        steps('build'){
             sh "mvn clean package"
        }//steps ending tag    
        }//stage2 ending tag
        
        stage{
            steps('sqReport'){
                sh "mvn sonar:sonar"
            }steps ending tag    
        }//stage3 ending tag
        
        stage{
            steps('deployInAppServer'){
                sh "mvn deploy"
            }//steps ending tag    
        }//stage4 ending tag
        
    }//stages ending tag

}//pipeline ending tag
