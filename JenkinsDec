pipeline{

    agent any
    
    tools{
        maven "maven3.8.5" 
    }//tools ending tag
    
    options {
        timestamps()
        buildDiscarder logRotator(artifactDaysToKeepStr: '', artifactNumToKeepStr: '', daysToKeepStr: '5', numToKeepStr: '5')
    }//options ending tag
    
    triggers {
        pollSCM '* * * * *'
    }//triggers ending tag
    stages{

  stage('CheckOutCode')
  {
    steps{
    git branch: 'development', credentialsId: '9fcf7490-03da-413f-8ad9-49d383282524', url: 'https://github.com/vnr1986/maven-web-application.git'
	}
  }
  
  stage('Build')
  {
   steps{
   sh "mvn clean package"
   }
  }

stage('ExecuteSonarqubeReport')
  {
    steps{
	sh "mvn sonar:sonar"
	}
  }
  
  stage('UploadArtifactsintoNexus')
  {
    steps{
	sh "mvn deploy"
	}
  }
}
}//pipeline ending tag
